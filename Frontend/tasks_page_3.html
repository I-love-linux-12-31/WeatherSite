<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Task 8</title>

    <link rel="icon" href="/favicon.svg"> <!-- Фавиконка -->

    <link rel="stylesheet" href="/css/white-theme/style.css" class="white-theme-importer">
    <link rel="stylesheet" href="/css/dark-theme/style.css" class="dark-theme-importer">

    <link rel="stylesheet" href="/css/style.css" class="dark-theme-importer"> <!-- -->




    <link rel="stylesheet" href="/css/weather-cards.css"> <!-- -->
    <link rel="stylesheet" href="/css/navbar-styles.css"> <!-- -->
    <link rel="stylesheet" href="/css/language-switch.css"> <!-- -->
    <link rel="stylesheet" href="/css/tasks_2.css"> <!-- -->
    <link rel="stylesheet" href="/css/tasks_3.css"> <!-- -->


    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400&display=swap" rel="stylesheet">


<!--    <script type="text/javascript" src="/js/main.js"></script>-->
    <script type="text/javascript" src="/js/themes.js"></script>
    <!--<script type="text/javascript" src="/js/task_9.js"></script>-->
    <script type="text/javascript" src="/js/task_10.js"></script>
    <script type="text/javascript" src="/js/task_12.js"></script>

    <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css"> <!-- -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
    <script type="text/javascript">
        toastr.options = {
          "closeButton": false,
          "debug": false,
          "newestOnTop": false,
          "progressBar": false,
          "positionClass": "toast-top-left",
          "preventDuplicates": true,
          "onclick": null,
          "showDuration": "300",
          "hideDuration": "1000",
          "timeOut": "5000",
          "extendedTimeOut": "1000",
          "showEasing": "swing",
          "hideEasing": "linear",
          "showMethod": "fadeIn",
          "hideMethod": "fadeOut"
        }
    </script>
</head>
<body>

    <div class="" style="margin-left: 32px;">
        <label class="text-404">
          <h2><a href="/" style="text-decoration: none; color: aquamarine">Go to home page.</a></h2>
        </label>
    </div>

    <section>

        <div class="captcha-container" id="captcha-container">
            <label for="login">

                <input id="login" type="email" required placeholder="Login">
                <input id="password" type="password" required placeholder="Password">
                <!--<input id="captcha_input_s" type="submit" class="login-submit" required>-->
                <button id="login-btn" disabled="disabled">Login</button>
                <script type="text/javascript">
                    var login_btn = document.getElementById("login-btn");
                    login_btn.disabled = "disabled";
                    login_btn.style.backgroundColor = "gray";
                    login_btn.addEventListener('click', () => {
                        console.log("LOGIN...")
                    });
                </script>
                <!--<input id="captcha_input" type="text">
                <button id="generate-captcha-btn">Generate</button>
                <script type="text/javascript">
                    document.getElementById("generate-captcha-btn").addEventListener('click', () => {
                        createImageFromString(document.getElementById("captcha_input").value)
                    })
                </script>-->
            </label>
            <div>
                <div id="captcha" style="width: 512px; height: 128px;"></div>
                <script type="text/javascript">
                    var captcha_parent = document.getElementById("captcha");
                </script>
                <label for="captcha-submit">
                    <input id="captcha-submit" type="text" required>
                    <button id="captcha-submit-btn">Apply</button>
                    <button id="captcha-change-btn">Regenerate</button>
                    <script type="text/javascript">
                        var captcha_input = document.getElementById("captcha-submit");
                        var captcha_submit_btn = document.getElementById("captcha-submit-btn");
                        var captcha_change_btn = document.getElementById("captcha-change-btn");

                        captcha_submit_btn.addEventListener('click', () => {
                            if (captcha_passed)
                                return;
                            if(isEmpty(captcha_input.value))
                                return;
                            if (captcha_input.value == captcha_solution)
                            {
                                captcha_passed = true;
                                captcha_submit_btn.style.backgroundColor = "lightgreen";
                                captcha_input.style.backgroundColor = "lightgreen";
                                captcha_change_btn.style.backgroundColor = "lightgreen";
                                captcha_input.disabled = true;
                                console.log("PASSED");
                                toastr["success"]("Captcha passed!", "You can try to login now!");
                                login_btn.disabled = false;
                                login_btn.style.backgroundColor = "lightblue";
                            }
                            else{
                                console.log("ERR :" + captcha_input.value + "/" + captcha_solution)
                                toastr["error"]("You can generate new captcha!", "Your answer is wrong")

                            }

                        });

                        captcha_change_btn.addEventListener('click', () => {
                            if (captcha_passed)
                                return;
                            captcha_math_mode ^= 1;
                            if (captcha_math_mode){
                                createImageFromString(getMathCaptchaData());
                            }
                            else{
                                createImageFromString(getTextCaptchaData());
                            }
                        })
                        createImageFromString(getTextCaptchaData());
                    </script>

                </label>
            </div>
        </div>
    </section>

    <div>
        <p>Текущее значение: </p>
        <p id="task10-items-sum">None</p>
        <button id="task10-add-new-item">Add new item</button>
        <script type="text/javascript">
            var item_sum_p = document.getElementById("task10-items-sum");
            var add_item_btn = document.getElementById("task10-add-new-item");
            add_item_btn.addEventListener('click', () => {
                accumulator.read();
            });


        </script>

    </div>
    <div id="task10-cards-host">
         <script type="text/javascript">
            var t10_cards_host = document.getElementById("task10-cards-host");
         </script>

    </div>

    <script type="text/javascript">main();</script>
    <div style="margin: 32px;">
        <button id="t12-send-notification-btn">Send notification</button>
        <button id="t12-list-creation-btn">Add item to list</button>
        <script type="text/javascript">
                var t12_send_notification_btn = document.getElementById("t12-send-notification-btn");
                var t12_list_creation_btn = document.getElementById("t12-list-creation-btn");
                var t12_list_can_add = true;
                t12_send_notification_btn.addEventListener('click', () => {
                    sendNotification(prompt("Notification text: "));
                });
                function add_item_to_t12_list(){
                    if (t12_list_can_add)
                    {
                        let item = document.createElement("li");
                        let a = prompt("new list item text: ");
                        item.innerHTML = a;
                        if (a == null) {
                            t12_list_can_add = false;
                            return;
                        }
                        t12_list.appendChild(item);
                        setTimeout(add_item_to_t12_list, 500);
                    }

                }
                t12_list_creation_btn.addEventListener('click', add_item_to_t12_list)
        </script>
        <ul id="t12-list">

        </ul>
        <script type="text/javascript">
            var t12_list = document.getElementById("t12-list");
        </script>
    </div>





    <section>
        <button style="height: 32px; width: 32px; border-radius: 16px; background-color: red" id="t12-notification-btn">
            <p id="t12-notification-counter-p"></p>
            <script type="text/javascript">
                var t12_notification_counter_p = document.getElementById("t12-notification-counter-p");
            </script>
        </button>
        <script type="text/javascript">
                var t12_notification_btn = document.getElementById("t12-notification-btn");
                t12_notification_btn.addEventListener('click', () => {
                stop_spam();
            });
            </script>
        <div class="t10-card" id="t12-notifications-host">
            <script type="text/javascript">
                var t12_notifications_host = document.getElementById("t12-notifications-host");

                init_notification_spam();
                /*send_notification();
                send_notification();
                send_notification();*/

            </script>

        </div>


    </section>



    <section id="notification-section">
    </section>
    <script type="text/javascript">
            var t12_notifications_section = document.getElementById("notification-section");
    </script>

</body>
</html>